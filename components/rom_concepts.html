

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Concepts &mdash; pressio-rom-0.16.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/hacks.css?v=c7976331" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7de89ed4"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Concepts" href="ode_concepts.html" />
    <link rel="prev" title="CMake Keywords" href="../keywords.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pressio-rom
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration and Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../keywords.html">CMake Keywords</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ROMs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ODE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ode_concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="ode_examples.html">example 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="ode_examples.html#example-2">example 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="ode_examples.html#example-3">example 3</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Nonlinear solvers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_newton.html">Newton-Raphson</a></li>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_enums.html">Enums</a></li>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_examples.html">example 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_examples.html#example-2">example 2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Linear solvers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="linsolvers.html"><code class="docutils literal notranslate"><span class="pre">Usage</span></code></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellanea</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Pressio/pressio-ops">GitHub Repo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Pressio/pressio-ops/issues">Open an issue/feature req.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pressio-rom</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Concepts</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/components/rom_concepts.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="concepts">
<h1>Concepts<a class="headerlink" href="#concepts" title="Link to this heading">ÔÉÅ</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span><span class="w"> </span><span class="nn">pressio</span><span class="p">{</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">rom</span><span class="p">{</span>

<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: ReducedState&lt;T&gt;</span>
<span class="c1">//</span>
<span class="c1">// Determines whether a type T is a valid reduced state type in the Pressio ROM</span>
<span class="c1">// framework.</span>
<span class="c1">//</span>
<span class="c1">// Specialization:</span>
<span class="c1">//   - When PRESSIO_ENABLE_TPL_EIGEN is defined, this trait is specialized</span>
<span class="c1">//     for Eigen vector types via ::pressio::is_vector_eigen&lt;T&gt;, and inherits</span>
<span class="c1">//     from std::true_type.</span>
<span class="c1">//</span>
<span class="c1">// Usage:</span>
<span class="c1">//   - Used in static_asserts and SFINAE to constrain templates to valid reduced</span>
<span class="c1">//     state vector types.</span>
<span class="c1">//</span>
<span class="c1">// Example:</span>
<span class="c1">//   static_assert(ReducedState&lt;MyVectorType&gt;::value, &quot;Invalid reduced state type&quot;);</span>
<span class="c1">//</span>
<span class="c1">// Notes:</span>
<span class="c1">//   - Additional specializations can be added for other TPLs like Kokkos</span>
<span class="c1">//     if and when we add support for that.</span>
<span class="c1">// -----------------------------------------------------------------------------</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">ReducedState</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="cp">#ifdef PRESSIO_ENABLE_TPL_EIGEN</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">ReducedState</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span><span class="w"> </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">is_vector_eigen</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>
<span class="cp">#endif</span>




<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: PossiblyAffineTrialColumnSubspace&lt;T&gt;</span>
<span class="c1">//</span>
<span class="c1">// This trait determines whether a type T conforms to the interface expected</span>
<span class="c1">// of a trial column subspace used in pressio ROMs.</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">PossiblyAffineTrialColumnSubspace</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">PossiblyAffineTrialColumnSubspace</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">    </span><span class="c1">// must define T::reduced_state_type</span>
<span class="w">    </span><span class="c1">// and it  must be a valid reduced state</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_reduced_state_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="n">ReducedState</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">reduced_state_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must define T::basis_matrix_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_basis_matrix_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must define T::full_state_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_full_state_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// full state and basis matrix must be copy-constructible</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">full_state_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">basis_matrix_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// all must have valid Traits specializations</span>
<span class="w">    </span><span class="n">all_have_traits</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">reduced_state_type</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">full_state_type</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">basis_matrix_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// full state must be rank-1</span>
<span class="w">    </span><span class="n">Traits</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">full_state_type</span><span class="o">&gt;::</span><span class="n">rank</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// basis matrix must be rank-2</span>
<span class="w">    </span><span class="n">Traits</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">basis_matrix_type</span><span class="o">&gt;::</span><span class="n">rank</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// T must be move-constructible and move assignable</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_move_constructible</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_assignable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;&amp;&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: createReducedState() -&gt;reduced_state_type</span>
<span class="w">    </span><span class="n">has_const_create_reduced_state_return_result</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: createFullState() -&gt;full_state_type</span>
<span class="w">    </span><span class="n">has_const_create_full_state_return_result</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: createFullStateFromReducedState(reduced) -&gt;full_state_type</span>
<span class="w">    </span><span class="n">has_const_create_full_state_from_reduced_state</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: mapFromReducedState(reduced, full) -&gt;void</span>
<span class="w">    </span><span class="n">has_const_map_from_reduced_state_return_void</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: basisOfTranslatedSpace() -&gt;const basis_matrix_type&amp;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span><span class="p">(</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">basisOfTranslatedSpace</span><span class="p">()</span><span class="w"> </span><span class="p">),</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">basis_matrix_type</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: translationVector() -&gt;const full_state_type&amp;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">translationVector</span><span class="p">()),</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">full_state_type</span><span class="w"> </span><span class="o">&amp;</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: basis() -&gt;const basis_matrix_type&amp;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span>
<span class="w">        </span><span class="k">decltype</span><span class="p">(</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">basis</span><span class="p">()</span><span class="w"> </span><span class="p">),</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">basis_matrix_type</span><span class="w"> </span><span class="o">&amp;</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: dimension() -&gt;integral type</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_integral</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span><span class="p">(</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">dimension</span><span class="p">()</span><span class="w"> </span><span class="p">)</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: isColumnSpace() -&gt;bool</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span><span class="p">(</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">isColumnSpace</span><span class="p">()</span><span class="w"> </span><span class="p">),</span>
<span class="w">      </span><span class="kt">bool</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// must have: isRowSpace() -&gt;bool</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span><span class="p">(</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">isRowSpace</span><span class="p">()</span><span class="w"> </span><span class="p">),</span>
<span class="w">      </span><span class="kt">bool</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>


<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: PossiblyAffineRealValuedTrialColumnSubspace&lt;T&gt;</span>
<span class="c1">//</span>
<span class="c1">// Builds on PossiblyAffineTrialColumnSubspace&lt;T&gt; by further requiring that</span>
<span class="c1">// all scalar types (underlying the reduced state, full state, and basis matrix)</span>
<span class="c1">// are floating-point types.</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">PossiblyAffineRealValuedTrialColumnSubspace</span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">PossiblyAffineRealValuedTrialColumnSubspace</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">    </span><span class="c1">// must already satisfy all affine subspace checks</span>
<span class="w">    </span><span class="n">PossiblyAffineTrialColumnSubspace</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// reduced state&#39;s scalar type must be floating-point</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">reduced_state_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// full state&#39;s scalar type must be floating-point</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">full_state_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// basis matrix&#39;s scalar type must be floating-point</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">basis_matrix_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">  </span><span class="o">&gt;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>




<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: SteadyFomWithJacobianAction&lt;T, JacobianActionOperandType&gt;</span>
<span class="c1">//</span>
<span class="c1">// This trait determines whether a type `T` represents a valid *steady* full-order</span>
<span class="c1">// model (FOM) interface with support for computing residuals and applying the</span>
<span class="c1">// Jacobian to an operand (Jacobian action).</span>
<span class="c1">//</span>
<span class="c1">// This trait inherits from std::true_type if all of the following are satisfied:</span>
<span class="c1">//   - `T` defines the required type aliases (state_type, residual_type).</span>
<span class="c1">//   - `T` provides factory methods to create residuals and Jacobian action results.</span>
<span class="c1">//   - `T` exposes a const-qualified method named:</span>
<span class="c1">//       void residualAndJacobianAction(</span>
<span class="c1">//         const state_type &amp;,</span>
<span class="c1">//         residual_type &amp;,</span>
<span class="c1">//         const JacobianActionOperandType &amp;,</span>
<span class="c1">//         std::optional&lt;fom_jac_action_t&lt;T, JacobianActionOperandType&gt; *&gt;</span>
<span class="c1">//       )</span>
<span class="c1">//</span>
<span class="c1">// Otherwise, the trait inherits from std::false_type.</span>
<span class="c1">//</span>
<span class="c1">// This is typically used to statically constrain the type `T` in the ROM API</span>
<span class="c1">// when constructing a steady ROM problem.</span>
<span class="c1">// -----------------------------------------------------------------------------</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">JacobianActionOperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SteadyFomWithJacobianAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">JacobianActionOperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SteadyFomWithJacobianAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>

<span class="w">    </span><span class="c1">// Must define: T::state_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_state_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must define: T::residual_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_residual_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// State and residual types must be copy-constructible</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">residual_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must provide: T::createResidual() returning residual_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">has_const_create_residual_method_return_result</span><span class="o">&lt;</span>
<span class="w">      </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">residual_type</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must provide: T::createResultOfJacobianActionOn(operand) returning non-void</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">has_const_create_result_of_jacobian_action_on</span><span class="o">&lt;</span>
<span class="w">      </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// The resulting jacobian action type must be copy-constructible</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span>
<span class="w">      </span><span class="n">impl</span><span class="o">::</span><span class="n">fom_jac_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must implement:</span>
<span class="w">    </span><span class="c1">// void residualAndJacobianAction(state, residual, operand, optional&lt;jac_action*&gt;)</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_void</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span>
<span class="w">      </span><span class="p">(</span>
<span class="w">       </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">residualAndJacobianAction</span>
<span class="w">       </span><span class="p">(</span>
<span class="w">	</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;&gt;</span><span class="p">(),</span>
<span class="w">	</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">residual_type</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="p">(),</span>
<span class="w">	</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">JacobianActionOperandType</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;&gt;</span><span class="p">(),</span>
<span class="w">	</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="n">impl</span><span class="o">::</span><span class="n">fom_jac_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">	</span><span class="p">)</span>
<span class="w">       </span><span class="p">)</span>
<span class="w">    </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">   </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">JacobianActionOperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSteadyFomWithJacobianAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">JacobianActionOperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSteadyFomWithJacobianAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">       </span><span class="n">SteadyFomWithJacobianAction</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">residual_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span>
<span class="w">       </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="w"> </span><span class="n">impl</span><span class="o">::</span><span class="n">fom_jac_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span>
<span class="w">     </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>




<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: SemiDiscreteFom&lt;T&gt;</span>
<span class="c1">//</span>
<span class="c1">// Determines whether a type `T` represents a valid semi-discrete FOM</span>
<span class="c1">// interface for time-dependent problems of the form:</span>
<span class="c1">//</span>
<span class="c1">//     d/dt y(t) = f(y, t)</span>
<span class="c1">//</span>
<span class="c1">// The model must provide time, state, and RHS (velocity) types, as well as</span>
<span class="c1">// a const-qualified method to compute the RHS given a state and time.</span>
<span class="c1">//</span>
<span class="c1">// If all requirements are met, the trait inherits from std::true_type.</span>
<span class="c1">// Otherwise, it inherits from std::false_type.</span>
<span class="c1">//</span>
<span class="c1">// This trait is used in Pressio to statically validate that a type conforms</span>
<span class="c1">// to the minimal interface needed for time integration of ODE-based FOMs.</span>
<span class="c1">// -----------------------------------------------------------------------------</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SemiDiscreteFom</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SemiDiscreteFom</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>

<span class="w">    </span><span class="c1">// Must define: T::time_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_time_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must define: T::state_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_state_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must define: T::rhs_type (i.e., velocity or RHS vector)</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_rhs_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// state_type must be copy-constructible</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// rhs_type must be copy-constructible</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">rhs_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must provide: createRhs() -&gt;rhs_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">ode</span><span class="o">::</span><span class="n">has_const_create_rhs_method_return_result</span><span class="o">&lt;</span>
<span class="w">      </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">rhs_type</span>
<span class="w">    </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must implement: rhs(state, time, result) -&gt;void</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">has_const_rhs_method_accept_state_indvar_result_return_void</span><span class="o">&lt;</span>
<span class="w">      </span><span class="n">T</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">time_type</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">rhs_type</span>
<span class="w">    </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">   </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSemiDiscreteFom</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSemiDiscreteFom</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">       </span><span class="n">SemiDiscreteFom</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">time_type</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">rhs_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>




<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: SemiDiscreteFomWithJacobianAction&lt;T, JacobianActionOperandType&gt;</span>
<span class="c1">//</span>
<span class="c1">// Determines whether a type `T` represents a valid time-dependent full-order model (FOM)</span>
<span class="c1">// interface (i.e., a semi-discrete system) that also supports applying the Jacobian to</span>
<span class="c1">// an operand (Jacobian-action interface).</span>
<span class="c1">//</span>
<span class="c1">// Inherits from std::true_type if all the following conditions are satisfied:</span>
<span class="c1">//   - `T` satisfies the SemiDiscreteFom trait.</span>
<span class="c1">//   - `T` can create a result container for a Jacobian-action via</span>
<span class="c1">//         createResultOfJacobianActionOn(operand)</span>
<span class="c1">//   - The resulting Jacobian-action object is copy-constructible.</span>
<span class="c1">//   - `T` implements a const-qualified method of the form:</span>
<span class="c1">//         void applyJacobian(</span>
<span class="c1">//           const state_type&amp;,</span>
<span class="c1">//           const operand_type&amp;,</span>
<span class="c1">//           const time_type&amp;,</span>
<span class="c1">//           result_type&amp; )</span>
<span class="c1">//</span>
<span class="c1">// Otherwise, inherits from std::false_type.</span>
<span class="c1">// This is typically used to statically constrain the type `T` in the ROM API</span>
<span class="c1">// when constructing unsteady implicit ROM problems.</span>
<span class="c1">// -----------------------------------------------------------------------------</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">JacobianActionOperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SemiDiscreteFomWithJacobianAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w">  </span><span class="k">class</span><span class="w"> </span><span class="nc">JacobianActionOperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SemiDiscreteFomWithJacobianAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w">  </span><span class="n">JacobianActionOperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">       </span><span class="n">SemiDiscreteFom</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">has_const_create_result_of_jacobian_action_on</span><span class="o">&lt;</span>
<span class="w">	 </span><span class="n">T</span><span class="p">,</span><span class="w">  </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span>
<span class="w">	 </span><span class="n">impl</span><span class="o">::</span><span class="n">fom_jac_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;</span>
<span class="w">	 </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">has_const_apply_jacobian_method_accept_state_operand_time_result_return_void</span><span class="o">&lt;</span>
<span class="w">	 </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="p">,</span>
<span class="w">         </span><span class="n">JacobianActionOperandType</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">time_type</span><span class="p">,</span>
<span class="w">	 </span><span class="n">impl</span><span class="o">::</span><span class="n">fom_jac_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;</span>
<span class="w">	 </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>


<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSemiDiscreteFomWithJacobianAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSemiDiscreteFomWithJacobianAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">       </span><span class="n">RealValuedSemiDiscreteFom</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">SemiDiscreteFomWithJacobianAction</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span>
<span class="w">	 </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="w"> </span><span class="n">impl</span><span class="o">::</span><span class="n">fom_jac_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>




<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: SemiDiscreteFomWithMassMatrixAction&lt;T, MassMatrixActionOperandType&gt;</span>
<span class="c1">//</span>
<span class="c1">// Determines whether a type `T` represents a valid time-dependent full-order model (FOM)</span>
<span class="c1">// that also supports applying the *mass matrix* to a given operand, i.e., implements</span>
<span class="c1">// a mass matrix action interface.</span>
<span class="c1">//</span>
<span class="c1">// If all conditions are met, the trait inherits from std::true_type.</span>
<span class="c1">// Otherwise, it inherits from std::false_type.</span>
<span class="c1">//</span>
<span class="c1">// Required interface for T:</span>
<span class="c1">//   - Satisfies the `SemiDiscreteFom` trait.</span>
<span class="c1">//   - Provides:</span>
<span class="c1">//       - createResultOfMassMatrixActionOn(operand) -&gt;returns result object</span>
<span class="c1">//       - applyMassMatrix(state, operand, time, result) -&gt;void</span>
<span class="c1">//</span>
<span class="c1">// -----------------------------------------------------------------------------</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MassMatrixActionOperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SemiDiscreteFomWithMassMatrixAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MassMatrixActionOperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SemiDiscreteFomWithMassMatrixAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">MassMatrixActionOperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">    </span><span class="n">SemiDiscreteFom</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span>
<span class="w">      </span><span class="p">(</span>
<span class="w">       </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">createResultOfMassMatrixActionOn</span>
<span class="w">       </span><span class="p">(</span>
<span class="w">	</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">MassMatrixActionOperandType</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="p">()</span>
<span class="w">	</span><span class="p">)</span>
<span class="w">       </span><span class="p">)</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_void</span><span class="o">&lt;</span>
<span class="w">       </span><span class="k">decltype</span>
<span class="w">       </span><span class="p">(</span>
<span class="w">	</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">applyMassMatrix</span>
<span class="w">	</span><span class="p">(</span>
<span class="w">	 </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;&gt;</span><span class="p">(),</span>
<span class="w">	 </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">MassMatrixActionOperandType</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;&gt;</span><span class="p">(),</span>
<span class="w">	 </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">time_type</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="p">(),</span>
<span class="w">	 </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">impl</span><span class="o">::</span><span class="n">fom_mass_matrix_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w">  </span><span class="n">MassMatrixActionOperandType</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="p">()</span>
<span class="w">	 </span><span class="p">)</span>
<span class="w">	</span><span class="p">)</span>
<span class="w">       </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">   </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MassMatrixActionOperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSemiDiscreteFomWithMassMatrixAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MassMatrixActionOperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSemiDiscreteFomWithMassMatrixAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">MassMatrixActionOperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">       </span><span class="n">RealValuedSemiDiscreteFom</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">SemiDiscreteFomWithMassMatrixAction</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">MassMatrixActionOperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span>
<span class="w">	 </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="w"> </span><span class="n">impl</span><span class="o">::</span><span class="n">fom_mass_matrix_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">MassMatrixActionOperandType</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>




<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: SemiDiscreteFomWithJacobianAndMassMatrixAction&lt;T, OperandType&gt;</span>
<span class="c1">//</span>
<span class="c1">// Determines whether a type `T` represents a valid time-dependent full-order model (FOM)</span>
<span class="c1">// that supports both:</span>
<span class="c1">//   - Jacobian-action interface (applyJacobian)</span>
<span class="c1">//   - Mass matrix action interface (applyMassMatrix)</span>
<span class="c1">//</span>
<span class="c1">// This trait inherits from std::true_type only if both of the following traits</span>
<span class="c1">// are satisfied for the same operand type:</span>
<span class="c1">//   - SemiDiscreteFomWithJacobianAction&lt;T, OperandType&gt;</span>
<span class="c1">//   - SemiDiscreteFomWithMassMatrixAction&lt;T, OperandType&gt;</span>
<span class="c1">//</span>
<span class="c1">// Otherwise, it inherits from std::false_type.</span>
<span class="c1">//</span>
<span class="c1">// This trait is used when both the Jacobian and mass matrix actions</span>
<span class="c1">// are required (e.g., implicit Galerkin with mass matrix).</span>
<span class="c1">// -----------------------------------------------------------------------------</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SemiDiscreteFomWithJacobianAndMassMatrixAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">SemiDiscreteFomWithJacobianAndMassMatrixAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w">  </span><span class="n">OperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">     </span><span class="n">SemiDiscreteFomWithJacobianAction</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">SemiDiscreteFomWithMassMatrixAction</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">  </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>


<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSemiDiscreteFomWithJacobianAndMassMatrixAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedSemiDiscreteFomWithJacobianAndMassMatrixAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">       </span><span class="n">RealValuedSemiDiscreteFomWithJacobianAction</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">RealValuedSemiDiscreteFomWithMassMatrixAction</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>




<span class="c1">// -----------------------------------------------------------------------------</span>
<span class="c1">// Trait: FullyDiscreteSystemWithJacobianAction&lt;T, TotalNumStates, OperandType&gt;</span>
<span class="c1">//</span>
<span class="c1">// Determines whether a type `T` conforms to the interface of a fully-discrete</span>
<span class="c1">// full-order model (FOM) that supports computing residuals and Jacobian actions</span>
<span class="c1">// for multiple time levels (e.g., backward differentiation formulas).</span>
<span class="c1">//</span>
<span class="c1">// This trait is enabled only if all of the following hold:</span>
<span class="c1">//   - The number of states (`TotalNumStates`) is either 2 or 3 (currently supported).</span>
<span class="c1">//   - `T` defines the following typedefs:</span>
<span class="c1">//       -time_type, state_type, discrete_residual_type</span>
<span class="c1">//   - `state_type` and `discrete_residual_type` are copy-constructible.</span>
<span class="c1">//   - `T` provides:</span>
<span class="c1">//       - createDiscreteTimeResidual() -&gt;discrete_residual_type</span>
<span class="c1">//       - createResultOfDiscreteTimeJacobianActionOn(Operand) -&gt;copyable result type</span>
<span class="c1">//   - `T` implements a method of the form:</span>
<span class="c1">//</span>
<span class="c1">//         void discreteTimeResidualAndJacobianAction(</span>
<span class="c1">//           StepCountType stepNumber,</span>
<span class="c1">//           time_type time,</span>
<span class="c1">//           std::array&lt;state_type, TotalNumStates&gt; const&amp; states,</span>
<span class="c1">//           discrete_residual_type&amp; residual,</span>
<span class="c1">//           OperandType const&amp; operand,</span>
<span class="c1">//           ResultType&amp; result);</span>
<span class="c1">//</span>
<span class="c1">// This trait is typically used to enforce constraints for FOMs employed in</span>
<span class="c1">// projection-based ROMs using fully-discrete time integration schemes.</span>
<span class="c1">// -----------------------------------------------------------------------------</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TotalNumStates</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">JacobianActionOperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">FullyDiscreteSystemWithJacobianAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TotalNumStates</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">JacobianActionOperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">FullyDiscreteSystemWithJacobianAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">TotalNumStates</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>

<span class="w">    </span><span class="c1">// Supported values: must be 2 or 3 states for fully-discrete stepping</span>
<span class="w">    </span><span class="p">(</span><span class="n">TotalNumStates</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">TotalNumStates</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must define time_type, state_type, discrete_residual_type</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_time_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_state_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">has_discrete_residual_typedef</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// state_type and residual_type must be copyable</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">discrete_residual_type</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must provide: createDiscreteTimeResidual() -&gt;discrete_residual_type</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_same</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">discrete_residual_type</span><span class="p">,</span>
<span class="w">      </span><span class="k">decltype</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">createDiscreteTimeResidual</span><span class="p">())</span>
<span class="w">    </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must provide: createResultOfDiscreteTimeJacobianActionOn(operand) -&gt;copyable result type</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span><span class="p">(</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">createResultOfDiscreteTimeJacobianActionOn</span><span class="p">(</span>
<span class="w">          </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">JacobianActionOperandType</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="p">()</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;&amp;</span>

<span class="w">    </span><span class="c1">// Must implement: discreteTimeResidualAndJacobianAction(...) -&gt;void</span>
<span class="w">    </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">has_const_discrete_residual_jacobian_action_method</span><span class="o">&lt;</span>
<span class="w">      </span><span class="n">T</span><span class="p">,</span>
<span class="w">      </span><span class="n">TotalNumStates</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="o">::</span><span class="n">pressio</span><span class="o">::</span><span class="n">ode</span><span class="o">::</span><span class="n">StepCount</span><span class="o">::</span><span class="n">value_type</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">time_type</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="p">,</span>
<span class="w">      </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">discrete_residual_type</span><span class="p">,</span>
<span class="w">      </span><span class="n">JacobianActionOperandType</span><span class="p">,</span>
<span class="w">      </span><span class="n">impl</span><span class="o">::</span><span class="n">fully_discrete_fom_jac_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">JacobianActionOperandType</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&gt;::</span><span class="n">value</span>

<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TotalNumStates</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OperandType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedFullyDiscreteSystemWithJacobianAction</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TotalNumStates</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OperandType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">RealValuedFullyDiscreteSystemWithJacobianAction</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">TotalNumStates</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">    </span><span class="n">FullyDiscreteSystemWithJacobianAction</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">TotalNumStates</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">state_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span><span class="w"> </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">::</span><span class="n">discrete_residual_type</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_floating_point</span><span class="o">&lt;</span>
<span class="w">      </span><span class="n">scalar_trait_t</span><span class="o">&lt;</span><span class="w"> </span><span class="n">impl</span><span class="o">::</span><span class="n">fully_discrete_fom_jac_action_t</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">OperandType</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span>
<span class="w">     </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>




<span class="c1">// ----------------------------------------------------------------------------</span>
<span class="c1">// VARIOUS</span>
<span class="c1">// ----------------------------------------------------------------------------</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MaskerType</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">MaskableWith</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">false_type</span><span class="p">{};</span>

<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MaskerType</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">MaskableWith</span><span class="o">&lt;</span>
<span class="w">  </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">MaskerType</span><span class="p">,</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">is_copy_constructible</span><span class="o">&lt;</span>
<span class="w">      </span><span class="k">decltype</span>
<span class="w">      </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">MaskerType</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">().</span><span class="n">createResultOfMaskActionOn</span>
<span class="w">       </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="p">())</span>
<span class="w">       </span><span class="p">)</span>
<span class="w">    </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">is_void</span><span class="o">&lt;</span>
<span class="w">	</span><span class="k">decltype</span>
<span class="w">	</span><span class="p">(</span>
<span class="w">	 </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">MaskerType</span><span class="w"> </span><span class="k">const</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">	 </span><span class="p">(</span>
<span class="w">	   </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="p">(),</span>
<span class="w">	   </span><span class="n">std</span><span class="o">::</span><span class="n">declval</span><span class="o">&lt;</span><span class="n">impl</span><span class="o">::</span><span class="n">mask_action_t</span><span class="o">&lt;</span><span class="n">MaskerType</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="p">()</span>
<span class="w">	 </span><span class="p">)</span>
<span class="w">	</span><span class="p">)</span>
<span class="w">       </span><span class="o">&gt;::</span><span class="n">value</span>
<span class="w">  </span><span class="o">&gt;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">true_type</span><span class="p">{};</span>

<span class="p">}}</span><span class="w"> </span><span class="c1">// end namespace pressio::rom</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../keywords.html" class="btn btn-neutral float-left" title="CMake Keywords" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ode_concepts.html" class="btn btn-neutral float-right" title="Concepts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS).
      <span class="lastupdated">Last updated on Jul 16, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>